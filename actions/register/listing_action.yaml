name: listing
description: A Github Action to create or update a Listing to a Data Product
author: Diego Mendes

branding:
  icon: share-2
  color: purple

inputs:
  environment:
    description: "Environment to deploy to"
    type: environment
    required: true
    default: prod

  client_id:
    description: The client identifier for EntraID
    required: true
  client_secret:
    description: The client secret for EntraID
    required: true

  data_prod_specs:
    description: Data Product Specification
    required: true

outputs:
  listing_status:
    description: The status of the Listing creation process

runs:
  using: docker
  image: ../image/Dockerfile
  entrypoint: /entrypoints/listing.sh
  env:
    MODE: "${{ inputs.environment }}"
